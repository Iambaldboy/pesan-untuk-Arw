<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RAHASIA NEGARA // Pesan untuk Mba Anggi</title>
  <style>
    :root{
      --bg:#030806; --fg:#b6ffcc; --dim:#6be593; --cyan:#63f2ff; --warn:#ffdf6b; --err:#ff6b6b;
      --border:#113222; --shadow:rgba(0,0,0,.55);
    }
    *{box-sizing:border-box}
    html,body{height:auto; min-height:100%}

    /* ‚úÖ SCROLL BODY */
    body{
      margin:0;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      color:var(--fg);
      background: radial-gradient(1200px 800px at 10% 10%, #10331d 0%, var(--bg) 52%, #010302 100%);
      overflow-y:auto;
      overflow-x:hidden;
      -webkit-overflow-scrolling: touch;
      scroll-padding-top: 120px; /* bantu kalau ada anchor */
    }

    /* Effects */
    .grid{
      position:fixed; inset:0; pointer-events:none; opacity:.14;
      background-image:
        linear-gradient(to right, rgba(99,242,255,.18) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(99,242,255,.12) 1px, transparent 1px);
      background-size: 44px 44px;
      transform: perspective(900px) rotateX(60deg) translateY(-18%);
      animation: gridMove 7s linear infinite;
      z-index:0;
    }
    @keyframes gridMove{ to{ background-position: 0 220px, 220px 0; } }

    .scanlines{
      position:fixed; inset:0; pointer-events:none; opacity:.14;
      background: repeating-linear-gradient(to bottom, rgba(0,0,0,0) 0px, rgba(0,0,0,0) 3px, rgba(0,0,0,.55) 4px);
      mix-blend-mode: multiply;
      z-index:0;
    }
    .scanner{
      position:fixed; left:0; right:0; height:180px; pointer-events:none; top:-220px;
      background: linear-gradient(180deg, rgba(99,242,255,0) 0%, rgba(99,242,255,.18) 40%, rgba(34,255,140,.10) 60%, rgba(99,242,255,0) 100%);
      filter: blur(1px);
      animation: sweep 5.5s ease-in-out infinite;
      opacity:.85;
      z-index:0;
    }
    @keyframes sweep{
      0%{ top:-220px; opacity:.0 }
      10%{ opacity:.85 }
      50%{ top: calc(100vh - 120px); opacity:.45 }
      90%{ opacity:.85 }
      100%{ top:-220px; opacity:.0 }
    }

    /* ‚úÖ wrapper top aligned + padding aman */
    .wrap{
      position:relative;
      z-index:1;
      min-height: 100dvh;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding:
        calc(16px + env(safe-area-inset-top))
        calc(14px + env(safe-area-inset-right))
        calc(24px + env(safe-area-inset-bottom))
        calc(14px + env(safe-area-inset-left));
    }

    .panel{
      width:min(920px, 100%);
      border: 1px solid var(--border);
      border-radius: 18px;
      background: linear-gradient(180deg, rgba(11,27,17,.78), rgba(0,0,0,.35));
      box-shadow: 0 18px 60px var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(10px);
    }

    /* ‚úÖ STICKY TOPBAR + SHRINK */
    .topbar{
      position: sticky;
      top: 0;
      z-index: 10;

      display:flex; justify-content:space-between; align-items:flex-start;
      gap:12px;

      /* normal size */
      padding: calc(14px + env(safe-area-inset-top) + 14px) 14px 12px 14px;

      border-bottom: 1px solid rgba(17,50,34,.75);
      background: rgba(5,12,8,.62);
      backdrop-filter: blur(10px);

      transition: padding .18s ease, background .18s ease, backdrop-filter .18s ease;
    }
    .topbar.shrink{
      padding: calc(10px + env(safe-area-inset-top) + 10px) 14px 10px 14px;
      background: rgba(2,8,5,.78);
      backdrop-filter: blur(14px);
    }

    .dots{display:flex; gap:8px; align-items:center; padding-top:2px;}
    .dot{width:10px;height:10px;border-radius:50%}
    .dot.r{background:#ff5f56}.dot.y{background:#ffbd2e}.dot.g{background:#27c93f}

    .titles{min-width:0}
    .title{
      font-weight: 900; letter-spacing: .6px; text-transform: uppercase;
      font-size: 12.5px; line-height: 1.2;
      transition: font-size .18s ease;
    }
    .subtitle{
      margin-top:4px;
      font-size:11.5px; color: var(--dim);
      letter-spacing:.2px; font-weight: 700;
      word-break: break-word;
      transition: opacity .18s ease, margin-top .18s ease;
    }
    .topbar.shrink .title{ font-size: 12px; }
    .topbar.shrink .subtitle{ opacity:.85; margin-top:3px; }

    .badgeRow{display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end}
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(99,242,255,.35);
      background: rgba(99,242,255,.08);
      color: var(--cyan);
      font-size: 11.5px;
      white-space:nowrap;
      transition: transform .18s ease, opacity .18s ease;
    }
    .pulse{
      width:8px; height:8px; border-radius:50%;
      background: var(--cyan);
      box-shadow: 0 0 0 0 rgba(99,242,255,.65);
      animation: pulse 1.6s infinite;
    }
    @keyframes pulse{
      0%{ box-shadow: 0 0 0 0 rgba(99,242,255,.65); }
      70%{ box-shadow: 0 0 0 10px rgba(99,242,255,0); }
      100%{ box-shadow: 0 0 0 0 rgba(99,242,255,0); }
    }
    .btnAudio{
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(182,255,204,.22);
      background: rgba(182,255,204,.06);
      color: var(--fg);
      font-weight: 900;
      cursor:pointer;
      font-size: 11.5px;
      transition: transform .18s ease;
    }
    .topbar.shrink .badge{ transform: scale(.98); opacity:.95; }
    .topbar.shrink .btnAudio{ transform: scale(.98); }

    .content{ padding: 12px 14px 14px 14px; }

    .headline{
      display:flex; flex-wrap:wrap; gap:10px;
      align-items:baseline; justify-content:space-between;
    }
    .h1{
      margin:0;
      font-size: 15px;
      color: var(--warn);
      letter-spacing: .5px;
      text-transform: uppercase;
    }
    .meta{
      margin-top:6px;
      font-size: 11.5px;
      color: var(--dim);
      line-height: 1.55;
    }
    .meta b{ color: var(--fg); }

    /* Password box */
    .pwBox{
      margin-top: 10px;
      padding: 10px;
      border-radius: 14px;
      border: 1px solid rgba(99,242,255,.22);
      background: rgba(99,242,255,.06);
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
    }
    .pwBox label{
      font-size:11.5px;
      color:var(--cyan);
      font-weight:1000;
      letter-spacing:.5px;
      text-transform:uppercase;
      white-space:nowrap;
    }
    .pwInput{
      flex:1;
      min-width:240px;
      padding:9px 10px;
      border-radius:12px;
      border:1px solid rgba(17,50,34,.85);
      background:#000;
      color:var(--fg);
      font-size:13.5px;
    }
    .pwBtn{
      padding:9px 10px;
      border-radius:12px;
      border: 1px solid rgba(34,255,140,.28);
      background: rgba(34,255,140,.10);
      color: var(--fg);
      font-weight: 1000;
      cursor:pointer;
      white-space:nowrap;
      font-size:12px;
    }
    .btnLock{
      padding:9px 10px;
      border-radius:12px;
      border: 1px solid rgba(182,255,204,.22);
      background: rgba(182,255,204,.06);
      color: var(--fg);
      font-weight: 1000;
      cursor:pointer;
      font-size:12px;
      white-space:nowrap;
    }
    .pwMsg{
      width:100%;
      font-size:11.5px;
      color:var(--dim);
      line-height:1.5;
    }

    .terminalBox{
      margin-top:12px;
      border: 1px solid rgba(17,50,34,.8);
      border-radius: 16px;
      background: rgba(0,0,0,.35);
      overflow:hidden;
    }
    .termHead{
      padding: 9px 10px;
      border-bottom: 1px solid rgba(17,50,34,.8);
      color: var(--cyan);
      font-size: 11.5px;
      letter-spacing:.4px;
      display:flex; justify-content:space-between; gap:10px;
      flex-wrap:wrap;
    }
    .termBody{
      padding: 10px;
      font-size: 12.5px;
      line-height: 1.55;
      max-height: 220px;
      overflow:auto;
    }
    .line{white-space:pre-wrap}
    .dim{color:var(--dim)}
    .warn{color:var(--warn)}
    .cyan{color:var(--cyan)}
    .err{color:var(--err)}

    .count{
      margin-top:10px;
      display:flex; flex-wrap:wrap; gap:10px;
      align-items:center; justify-content:space-between;
    }
    .timer{
      font-size: clamp(26px, 3.4vw, 34px);
      font-weight: 900;
      letter-spacing: 1px;
      text-shadow: 0 0 18px rgba(99,242,255,.12);
    }
    .subTimer{ font-size: 11.5px; color: var(--dim); }

    .loaderWrap{
      margin-top: 10px;
      height: 11px;
      border-radius: 999px;
      background: rgba(182,255,204,.06);
      border: 1px solid rgba(182,255,204,.18);
      overflow:hidden;
      position:relative;
    }
    .loaderBar{
      position:absolute; inset:0;
      width: 35%;
      background: linear-gradient(90deg, rgba(99,242,255,.05), rgba(99,242,255,.35), rgba(34,255,140,.25), rgba(99,242,255,.05));
      animation: load 1.8s ease-in-out infinite;
    }
    @keyframes load{ 0%{ transform: translateX(-60%);} 50%{ transform: translateX(180%);} 100%{ transform: translateX(-60%);} }

    .lock,.okBox{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      font-weight: 900;
      font-size: 12px;
    }
    .lock{
      border: 1px solid rgba(255,223,107,.28);
      background: rgba(255,223,107,.08);
      color: var(--warn);
    }
    .okBox{
      display:none;
      border: 1px solid rgba(34,255,140,.28);
      background: rgba(34,255,140,.10);
      color: var(--fg);
    }

    .btnRow{
      margin-top: 10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .btn{
      display:none;
      flex:1;
      min-width: 240px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(99,242,255,.35);
      background: rgba(99,242,255,.10);
      color: var(--cyan);
      font-weight: 900;
      cursor:pointer;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing:.6px;
    }
    .btnHack{
      flex:1;
      min-width: 240px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(255,223,107,.28);
      background: rgba(255,223,107,.08);
      color: var(--warn);
      font-weight: 900;
      cursor:pointer;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing:.6px;
    }

    .note{
      margin-top: 10px;
      font-size: 11.5px;
      color: var(--dim);
      line-height: 1.6;
    }

    /* Access Granted overlay */
    .overlay{
      position:fixed; inset:0;
      display:none;
      align-items:center; justify-content:center;
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(6px);
      z-index: 9999;
      padding:16px;
    }
    .overlay.show{ display:flex; }
    .overlayCard{
      width:min(740px, 100%);
      border:1px solid rgba(99,242,255,.40);
      border-radius:18px;
      background: linear-gradient(180deg, rgba(6,20,14,.92), rgba(0,0,0,.72));
      box-shadow: 0 20px 80px rgba(0,0,0,.7);
      overflow:hidden;
      transform: translateY(10px) scale(.98);
      opacity:0;
      animation: popIn .55s ease forwards;
    }
    @keyframes popIn{ to{ transform: translateY(0) scale(1); opacity:1; } }
    .overlayHead{
      padding: 12px 14px;
      border-bottom: 1px solid rgba(99,242,255,.20);
      color: var(--cyan);
      font-weight: 900;
      letter-spacing:.8px;
      text-transform: uppercase;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      flex-wrap:wrap;
    }
    .seal{
      font-size:11.5px; color: var(--dim);
      border:1px solid rgba(182,255,204,.20);
      padding:5px 10px; border-radius:999px;
      background: rgba(182,255,204,.06);
      white-space:nowrap;
    }
    .overlayBody{ padding: 14px; }
    .bigGrant{
      font-size: 30px;
      font-weight: 1000;
      letter-spacing: 1.2px;
      margin: 6px 0 8px 0;
      color: var(--cyan);
      text-shadow: 0 0 22px rgba(99,242,255,.14);
    }
    .grantSub{ color: var(--fg); line-height: 1.65; font-size: 13px; margin:0; }
    .grantBar{
      margin-top: 14px; height: 12px; border-radius: 999px;
      background: rgba(182,255,204,.06);
      border: 1px solid rgba(182,255,204,.18);
      overflow:hidden; position:relative;
    }
    .grantFill{
      position:absolute; left:0; top:0; bottom:0;
      width: 0%;
      background: linear-gradient(90deg, rgba(99,242,255,.12), rgba(99,242,255,.50), rgba(34,255,140,.35));
      animation: fill 1.0s ease forwards;
    }
    @keyframes fill{ to{ width: 100%; } }
    .blinkText{
      margin-top: 10px;
      color: var(--warn);
      font-weight:900;
      letter-spacing:.8px;
      text-transform: uppercase;
      animation: blink 1.1s infinite;
      font-size: 12px;
    }
    @keyframes blink{ 0%,50%{opacity:1} 51%,100%{opacity:.25} }

    /* Audio Gate */
    .audioGate{
      position:fixed; inset:0;
      display:flex;
      align-items:center; justify-content:center;
      background: rgba(0,0,0,.78);
      backdrop-filter: blur(7px);
      z-index: 9998;
      padding:16px;
    }
    .audioGateCard{
      width:min(640px, 100%);
      border:1px solid rgba(99,242,255,.40);
      border-radius:18px;
      background: linear-gradient(180deg, rgba(6,20,14,.92), rgba(0,0,0,.78));
      box-shadow: 0 20px 80px rgba(0,0,0,.7);
      padding:16px;
      text-align:center;
    }
    .audioGateTitle{
      color:var(--cyan);
      font-weight:1000;
      letter-spacing:1px;
      text-transform:uppercase;
      margin-bottom:8px;
    }
    .audioGateText{
      color:var(--fg);
      line-height:1.6;
      font-size:13px;
    }
    .audioGateBtn{
      margin-top:12px;
      width:100%;
      padding:14px 16px;
      border-radius:14px;
      border: 1px solid rgba(99,242,255,.35);
      background: rgba(99,242,255,.12);
      color:var(--cyan);
      font-weight:1000;
      cursor:pointer;
      text-transform:uppercase;
      letter-spacing:.6px;
    }
    .audioGateMini{
      margin-top:10px;
      color:var(--dim);
      font-size:12px;
    }

    .flash{ animation: flash 0.35s ease-in-out 2; }
    @keyframes flash{ 0%{filter:brightness(1)} 50%{filter:brightness(1.35)} 100%{filter:brightness(1)} }
  </style>
</head>
<body>
  <div class="grid"></div>
  <div class="scanner"></div>
  <div class="scanlines"></div>

  <!-- Upload file audio kamu ke repo: bond.mp3 -->
  <audio id="bgm" preload="auto" loop>
    <source src="bond.mp3" type="audio/mpeg">
  </audio>

  <!-- Audio Gate (autoplay block) -->
  <div id="audioGate" class="audioGate">
    <div class="audioGateCard">
      <div class="audioGateTitle">üîí AUDIO LOCKED</div>
      <div class="audioGateText">
        Klik sekali untuk mengaktifkan backsound rahasia.<br/>
        (Chrome butuh izin klik dulu üòÑ)
      </div>
      <button id="audioGateBtn" class="audioGateBtn" type="button">CLICK TO START AUDIO</button>
      <div class="audioGateMini">Setelah aktif, kamu bisa PAUSE kapan saja.</div>
    </div>
  </div>

  <!-- ACCESS GRANTED overlay -->
  <div id="overlay" class="overlay" role="dialog" aria-modal="true" aria-label="Access Granted">
    <div class="overlayCard">
      <div class="overlayHead">
        <span>ACCESS GRANTED</span>
        <span class="seal">CLEARANCE: ALPHA</span>
      </div>
      <div class="overlayBody">
        <div class="bigGrant">‚úÖ ACCESS GRANTED</div>
        <p class="grantSub">
          Time-lock berhasil dibuka. Pesan rahasia untuk <b>Mba Anggi</b> siap diakses.
          Silakan lanjut ke terminal.
        </p>
        <div class="grantBar"><div class="grantFill"></div></div>
        <div class="blinkText">Proceed to terminal‚Ä¶</div>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="panel" id="panel">
      <div class="topbar" id="topbar">
        <div class="dots"><span class="dot r"></span><span class="dot y"></span><span class="dot g"></span></div>

        <div class="titles">
          <div class="title">PESAN NEGARA SANGAT RAHASIA</div>
          <div class="subtitle">pesan rahasia untuk Mba anggi</div>
        </div>

        <div class="badgeRow">
          <div class="badge"><span class="pulse"></span> uplink: stable</div>
          <button class="btnAudio" id="audioBtn" type="button">‚è∏ PAUSE</button>
        </div>
      </div>

      <div class="content">
        <div class="headline">
          <h1 class="h1">Akses Akan Dibuka Otomatis</h1>
          <div class="subTimer">Target (WIB): <b id="targetLabel">‚Äî</b></div>
        </div>

        <div class="meta">
          Status: <b id="statusText">LOCKED</b> ‚Ä¢ Now (WIB): <b id="nowLabel">‚Äî</b><br/>
          Tunggu sampai waktu target, atau masukkan <b>kata sandi</b> untuk bypass.
        </div>

        <div class="pwBox">
          <label for="pw">Kata Sandi</label>
          <input id="pw" class="pwInput" placeholder="Masukan kata sandi disini..." />
          <button id="pwBtn" class="pwBtn" type="button">UNLOCK</button>
          <button id="relockBtn" class="btnLock" type="button">LOCK</button>
          <div id="pwMsg" class="pwMsg">Hint: hanya Mas Ari yang tahu üòÑ</div>
        </div>

        <div class="terminalBox">
          <div class="termHead">
            <span>terminal://countdown-monitor</span>
            <span class="dim">cipher: time-lock</span>
          </div>
          <div class="termBody" id="term">
            <div class="line dim">>> initializing secure channel...</div>
            <div class="line dim">>> validating clearance level...</div>
            <div class="line warn">>> ACCESS WINDOW is time-locked.</div>
            <div class="line dim">>> waiting for target timestamp...</div>
          </div>
        </div>

        <div class="count">
          <div class="timer" id="countdown">--:--:--</div>
          <div class="subTimer" id="extra">countdown running‚Ä¶</div>
        </div>

        <div class="loaderWrap" aria-hidden="true"><div class="loaderBar"></div></div>

        <div id="locked" class="lock">üîí LOCKED ‚Äî ini pesan rahasia, belum waktunya dibuka.</div>
        <div id="unlocked" class="okBox">‚úÖ UNLOCKED ‚Äî clearance diterima. Silakan lanjut.</div>

        <div class="btnRow">
          <button id="go" class="btn" onclick="location.href='terminal.html'">OPEN TERMINAL üíö</button>
          <button id="forceBtn" class="btnHack" type="button">COBA BOBOL PAKSA ‚ö†Ô∏è</button>
        </div>

        <div class="note">Topbar akan mengecil saat kamu scroll. ‚úÖ</div>
      </div>
    </div>
  </div>

<script>
  // ===== Shrink Topbar on scroll =====
  const topbar = document.getElementById("topbar");
  let lastState = false;
  function onScroll(){
    const y = window.scrollY || document.documentElement.scrollTop;
    const shouldShrink = y > 20;
    if(shouldShrink !== lastState){
      lastState = shouldShrink;
      topbar.classList.toggle("shrink", shouldShrink);
    }
  }
  window.addEventListener("scroll", onScroll, {passive:true});
  onScroll();

  // ===== Time target: 09 Jan 2026 19:00 WIB =====
  const TARGET = new Date("2026-01-09T19:00:00+07:00");

  const panel = document.getElementById("panel");
  const targetLabel = document.getElementById("targetLabel");
  const nowLabel = document.getElementById("nowLabel");
  const countdownEl = document.getElementById("countdown");
  const locked = document.getElementById("locked");
  const unlocked = document.getElementById("unlocked");
  const go = document.getElementById("go");
  const statusText = document.getElementById("statusText");
  const term = document.getElementById("term");
  const extra = document.getElementById("extra");
  const overlay = document.getElementById("overlay");

  // Password
  const pw = document.getElementById("pw");
  const pwBtn = document.getElementById("pwBtn");
  const pwMsg = document.getElementById("pwMsg");
  const relockBtn = document.getElementById("relockBtn");
  const SECRET = "mas ari ganteng banget";

  // Audio
  const bgm = document.getElementById("bgm");
  const audioBtn = document.getElementById("audioBtn");
  const audioGate = document.getElementById("audioGate");
  const audioGateBtn = document.getElementById("audioGateBtn");
  let audioOn = true;
  function setAudioBtn(){ audioBtn.textContent = audioOn ? "‚è∏ PAUSE" : "‚ñ∂ PLAY"; }

  function fmtWIB(d){
    return new Intl.DateTimeFormat("id-ID", {
      timeZone: "Asia/Jakarta",
      year: "numeric", month: "long", day: "2-digit",
      hour: "2-digit", minute: "2-digit", second: "2-digit"
    }).format(d);
  }
  function pad(n){ return String(n).padStart(2,"0"); }
  targetLabel.textContent = fmtWIB(TARGET);

  function logLine(text, cls="dim"){
    const div = document.createElement("div");
    div.className = "line " + cls;
    div.textContent = text;
    term.appendChild(div);
    term.scrollTop = term.scrollHeight;
  }

  async function armAudio(){
    try{
      await bgm.play();
      audioOn = true;
      setAudioBtn();
      logLine(">> audio armed ‚úÖ", "cyan");
      audioGate.style.display = "none";
    }catch(e){
      logLine(">> audio blocked. click again.", "warn");
    }
  }
  audioGateBtn.addEventListener("click", armAudio);
  audioGate.addEventListener("click", (e)=>{ if(e.target===audioGate) armAudio(); });

  audioBtn.addEventListener("click", async ()=>{
    try{
      if(audioOn){ bgm.pause(); audioOn=false; }
      else{ await bgm.play(); audioOn=true; }
      setAudioBtn();
      logLine(audioOn ? ">> audio: ON" : ">> audio: OFF", "dim");
    }catch(e){
      logLine(">> audio blocked. use gate button.", "warn");
      audioGate.style.display = "flex";
    }
  });

  // Access Granted overlay
  let overlayShown = false;
  function showAccessGranted(){
    if(overlayShown) return;
    overlayShown = true;
    overlay.classList.add("show");
    setTimeout(()=>overlay.classList.remove("show"), 2200);
  }

  // Unlock state
  let manualUnlock = false;

  const forceBtn = document.getElementById("forceBtn");
  let attempts = 0;
  let lockedOutUntil = 0;

  function flash(){
    panel.classList.remove("flash"); void panel.offsetWidth; panel.classList.add("flash");
  }

  function setUnlockedUI(reason){
    locked.style.display = "none";
    unlocked.style.display = "block";
    go.style.display = "inline-block";
    statusText.textContent = "UNLOCKED";
    extra.textContent = reason || "unlocked";

    forceBtn.textContent = "BOBOL PAKSA (GAGAL) ‚úÖ";
    forceBtn.disabled = true;
    forceBtn.style.opacity = "0.7";
    forceBtn.style.cursor = "not-allowed";

    showAccessGranted();
  }
  function setLockedUI(){
    locked.style.display = "block";
    unlocked.style.display = "none";
    go.style.display = "none";
    statusText.textContent = "LOCKED";
    extra.textContent = "countdown running‚Ä¶";

    forceBtn.textContent = "COBA BOBOL PAKSA ‚ö†Ô∏è";
    forceBtn.disabled = false;
    forceBtn.style.opacity = "1";
    forceBtn.style.cursor = "pointer";

    overlayShown = false;
  }

  function tryPassword(){
    const input = pw.value.trim().toLowerCase();
    if(!input){
      pwMsg.textContent = "Masukkan kata sandi dulu üôÇ";
      pwMsg.style.color = "var(--warn)";
      return;
    }
    if(input === SECRET){
      manualUnlock = true;
      pwMsg.textContent = "‚úÖ kata sandi benar. akses dibuka!";
      pwMsg.style.color = "var(--cyan)";
      logLine(">> password bypass: SUCCESS ‚úÖ", "cyan");
      countdownEl.textContent = "00:00:00";
      setUnlockedUI("PASSWORD BYPASS");
    }else{
      pwMsg.textContent = "‚ùå kata sandi salah. coba lagi‚Ä¶";
      pwMsg.style.color = "var(--err)";
      logLine(">> password attempt: FAILED", "err");
    }
  }
  pwBtn.addEventListener("click", tryPassword);
  pw.addEventListener("keydown", (e)=>{ if(e.key==="Enter") tryPassword(); });

  relockBtn.addEventListener("click", ()=>{
    manualUnlock = false;
    pw.value = "";
    pwMsg.textContent = "Hint: hanya Mas Ari yang tahu üòÑ";
    pwMsg.style.color = "var(--dim)";
    logLine(">> relock: OK", "warn");
    setLockedUI();
  });

  function runFakeHack(){
    const now = Date.now();
    if(manualUnlock || now >= TARGET.getTime()){
      logLine(">> force-entry not needed. already unlocked.", "cyan");
      return;
    }
    if(now < lockedOutUntil){
      const left = Math.ceil((lockedOutUntil - now)/1000);
      logLine(`>> SYSTEM LOCKOUT: tunggu ${left}s sebelum coba lagi.`, "err");
      flash();
      return;
    }
    attempts++;
    logLine(">> initiating force-entry...", "warn");
    const steps = [
      ">> probing ports: 22, 80, 443...",
      ">> injecting payload: romantic.exe",
      ">> bypassing firewall: FAILED (love-shield detected)",
      ">> decrypting: NO KEY",
      ">> verdict: ACCESS DENIED ‚ùå"
    ];
    let i = 0;
    const t = setInterval(()=>{
      logLine(steps[i], i===steps.length-1 ? "err" : "dim");
      i++;
      if(i>=steps.length){
        clearInterval(t);
        flash();
        const penalty = Math.min(8 + attempts*4, 30);
        lockedOutUntil = Date.now() + penalty*1000;
        logLine(`>> penalty applied: lockout ${penalty}s`, "warn");
      }
    }, 380);
  }
  forceBtn.addEventListener("click", runFakeHack);

  function tick(){
    const now = new Date();
    nowLabel.textContent = fmtWIB(now);

    if(manualUnlock) return;

    const diff = TARGET.getTime() - now.getTime();
    if(diff <= 0){
      countdownEl.textContent = "00:00:00";
      setUnlockedUI("TIMER");
      return;
    }

    const totalSeconds = Math.floor(diff / 1000);
    const days = Math.floor(totalSeconds / 86400);
    const hours = Math.floor((totalSeconds % 86400) / 3600);
    const mins = Math.floor((totalSeconds % 3600) / 60);
    const secs = totalSeconds % 60;

    countdownEl.textContent = (days>0 ? `${days} hari  ` : "") + `${pad(hours)}:${pad(mins)}:${pad(secs)}`;

    if(secs % 15 === 0){
      const msgs = [
        ">> scanning channel integrity...",
        ">> checksum: OK",
        ">> trace: none",
        ">> waiting‚Ä¶",
        ">> encrypting idle packets‚Ä¶"
      ];
      logLine(msgs[Math.floor(Math.random()*msgs.length)], "dim");
    }
  }

  tick();
  setInterval(tick, 1000);
</script>
</body>
</html>
